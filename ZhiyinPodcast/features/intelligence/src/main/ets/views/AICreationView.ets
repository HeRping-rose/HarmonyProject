import { HMRouter } from '@hadss/hmrouter';
import { MyNavBar, PAGE_PATH } from 'basic';


@Preview
// AICreation.ets
@HMRouter({ pageUrl: PAGE_PATH.AI_CREATION_PAGE })
@ComponentV2
export struct AICreationView {
  selectedTab: string = "çƒ­é—¨è¯é¢˜";
  @Local TabIndex: number = 0
  private subTabIndex: number = 0
  private mainTabs: string[] = ['çƒ­é—¨è¯é¢˜', 'åˆ›ä½œæ´»åŠ¨', 'çƒ­é—¨ä½œå“']
  private subTabs: string[] = ['ç²¾é€‰', 'çƒ­ç‚¹', 'ç”Ÿæ´»', 'å¨±ä¹', 'ä¸ªäººæˆé•¿', 'äººæ–‡å›½å­¦']
  private topics: hotTopic[] = [
    { title: '#å†å²ä¸Šæœ‰åçš„å¤©æ‰ ğŸ”¥', hot: '7011.99ä¸‡ çƒ­åº¦' },
    { title: '#ç¥ç€å¯¹ä½ çš„å½±å“æœ‰å¤šå¤§ ğŸ”¥', hot: '7011.99ä¸‡ çƒ­åº¦' },
    { title: '#å…»è€é‡‘å…¨å›½æ¨è¡Œæ–°å˜åŒ– ğŸ”¥', hot: '7011.99ä¸‡ çƒ­åº¦' }
  ]

  build() {
    Column() {
      MyNavBar({ title: 'AIåˆ›ä½œ' ,showRightIcon: true ,rightIcon: $r('app.media.AI_more'),color:'#000'})

      // ä¸»è¦å†…å®¹åŒºåŸŸ
      Column() {
        // AIåŠ©æ‰‹å¡ç‰‡
        Column() {
          // Image("resources/base/media/ic_robot.png")
          //   .width(56)
          //   .height(56)
          //   .margin({ left: 16 })
          Row() {
            Text("ç‚¹å‡»æ„Ÿå…´è¶£çš„åŠŸèƒ½ï¼Œå¼€å§‹åˆ›ä½œå§ï½")
              .fontSize(14)
              .fontColor(Color.Gray)
              .margin({ top: 8 })
          }
        }

        Column(){
          // åŠŸèƒ½åˆ—è¡¨
          Grid() {
            ForEach(functions, (item: functionItem, index: number) => {
              GridItem() {
                Row() {
                  Image(item.icon)
                    .width(32).height(32)
                    .margin({ left: 4 })

                  Text(item.title).fontSize(12).fontColor(Color.Black)
                }
                .width(120).height(50)
                // .backgroundColor(Color.Pink)
                .borderRadius(12)
                .onClick(() => {
                  // ç‚¹å‡»åŠŸèƒ½å¤„ç†
                })
              }
            }, (item: functionItem) => item.title)
          }
          .rowsTemplate("1fr 1fr 1fr")
          .rowsGap(12)
          .columnsTemplate("1fr 1fr").columnsGap(24)
          .padding({ left: 16, right: 16, top: 16 })
        }
        .backgroundColor('#dae9ff')
        .borderRadius(16)
        .padding({ top: 16, bottom: 16 })
        .margin({ top: 16, left: 16, right: 16 })
      }
      .padding({ top: 16 })
      .height(300)

      // æ ‡ç­¾é¡µåˆ‡æ¢
      Column({ space: 12 }) {
        // é¡¶éƒ¨ Tabs
        Tabs({ barPosition: BarPosition.Start, index: this.TabIndex }) {
          ForEach(this.mainTabs, (tabName: string, index: number) => {
            TabContent() {
              Column() {
                // å­åˆ†ç±» Row
                // å­åˆ†ç±»æ¨ªå‘ Tab
                Scroll() {
                  Row({ space: 8 }) {
                    ForEach(this.subTabs, (sub: string, subIndex: number) => {
                      Text(sub)
                        .fontSize(14)
                        .padding({
                          left: 8,
                          right: 8,
                          top: 4,
                          bottom: 4
                        })
                        .borderRadius(12)
                        .backgroundColor(this.subTabIndex === subIndex ? '#E6F0FF' : '#FFFFFF')
                        .fontColor(this.subTabIndex === subIndex ? '#3366FF' : '#333333')
                        .onClick(() => {
                          this.subTabIndex = subIndex
                        })
                    })
                  }
                }.margin({ top: 2, bottom: 6 })
                .scrollable(ScrollDirection.Horizontal)
                .height(40)
                .scrollBar(BarState.Off)

                // çƒ­é—¨è¯é¢˜åˆ—è¡¨
                ForEach(this.topics, (item:hotTopic) => {
                  Row({ space: 8 }) {
                    Column() {
                      Text(item.title).fontSize(16).fontWeight(FontWeight.Medium)
                      Text(item.hot).fontSize(12).fontColor('#999999').margin({ top: 4 })
                    }.layoutWeight(1)
                    .alignItems(HorizontalAlign.Start)

                    Button('å»åˆ›ä½œ')
                      .backgroundColor('#3366FF')
                      .fontColor('#FFFFFF')
                      .fontSize(14)
                      .borderRadius(20)
                      .padding({
                        left: 12,
                        right: 12,
                        top: 6,
                        bottom: 6
                      })
                  }
                  .padding({ top: 12, bottom: 12 })
                  .border({ width: 0, color: '#EDEDED' })
                })

                // æ›´å¤šè¯é¢˜
                Text('æ›´å¤šçƒ­é—¨è¯é¢˜ >')
                  .fontSize(14)
                  .fontColor('#3366FF')
                  .margin({ top: 12, bottom: 12 })
                  .alignSelf(ItemAlign.Center)
              }
              .height('100%')

            }.tabBar(tabName)
            .layoutWeight(1)
          })
        }
      }.padding(12)
    }
    .backgroundColor(Color.White)
  }
}

// åŠŸèƒ½æ•°æ®
const functions: functionItem[] = [
  { title: "å†…å®¹ç”Ÿæˆ", icon: $r('app.media.ic_content') },
  { title: "å¤šè¯­è¨€æ”¯æŒ", icon: $r('app.media.ic_language') },
  { title: "ä¸“é¢˜æŠ¥é“", icon: $r('app.media.ic_topic')},
  { title: "è„šæœ¬ç”Ÿæˆ", icon: $r('app.media.ic_script') },
  { title: "å‰ªè¾‘ä¼˜åŒ–", icon: $r('app.media.ic_edit') },
  { title: "æ›´å¤šæ”¯æŒ", icon: $r('app.media.ic_more') }
];

interface functionItem {
  title: string;
  icon: ResourceStr;
}

// çƒ­é—¨è¯é¢˜æ•°æ®

interface hotTopic {
  title: string;
  hot: string;
}
